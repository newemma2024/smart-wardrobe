# 智能衣橱应用设计文档

## 设计理念
遵循 Apple Human Interface Guidelines (HIG)，打造简洁、直观的 iOS 风格移动应用。界面采用竖屏设计（9:16），优化单手操作体验。

## 配色方案
- **主色调 (Primary)**: `#FF6B9D` - 温暖的粉红色，代表时尚与活力
- **背景色 (Background)**: 浅色模式 `#FFFFFF`，深色模式 `#151718`
- **表面色 (Surface)**: 浅色模式 `#F8F9FA`，深色模式 `#1E2022`
- **前景色 (Foreground)**: 浅色模式 `#11181C`，深色模式 `#ECEDEE`
- **辅助色 (Muted)**: 浅色模式 `#687076`，深色模式 `#9BA1A6`

## 屏幕列表与功能

### 1. 衣橱 (Wardrobe) - 主屏幕
**主要内容**:
- 顶部分类标签栏：全部、大衣、外套、上衣、裤子、长裙、短裙、鞋子、配饰
- 网格布局展示衣物照片（2列）
- 每个衣物卡片显示缩略图和分类标签
- 右下角悬浮按钮：添加衣物照片

**功能**:
- 点击分类标签筛选衣物
- 点击衣物卡片查看详情
- 长按衣物卡片进入编辑模式（删除、重新分类）
- 点击悬浮按钮从相册选择照片或拍照

### 2. 搭配 (Outfits) - 第二个标签页
**主要内容**:
- 顶部：智能搭配推荐区域
  - 大卡片展示当前推荐的完整搭配（上衣+下装+外套+配饰）
  - 每个单品显示小图和分类标签
- 底部操作按钮：
  - 刷新按钮：生成新的搭配建议
  - 点赞按钮：保存当前搭配到收藏
- 下方：已保存的搭配列表（网格布局）

**功能**:
- 自动生成搭配建议（基于已有衣物）
- 点击单品可替换为同类别的其他衣物
- 点赞保存喜欢的搭配
- 查看已保存的搭配历史

### 3. 收藏 (Favorites) - 第三个标签页
**主要内容**:
- 网格布局展示所有点赞保存的搭配
- 每个搭配卡片显示组合预览图
- 显示保存时间

**功能**:
- 点击查看搭配详情
- 长按删除收藏的搭配
- 分享搭配到社交媒体

### 4. 衣物详情弹窗 (Item Detail Modal)
**主要内容**:
- 全屏显示衣物照片
- 底部信息栏：分类标签、添加时间
- 操作按钮：编辑分类、删除

**功能**:
- 手势滑动关闭
- 修改分类标签
- 删除衣物

### 5. 添加衣物流程 (Add Item Flow)
**步骤**:
1. 用户点击添加按钮
2. 选择照片来源（相册/拍照）
3. 选择照片后自动进行AI分类
4. 显示分类结果，用户可手动调整
5. 保存到衣橱

## 关键用户流程

### 流程1: 添加衣物
1. 用户在"衣橱"页面点击右下角悬浮按钮
2. 弹出选择器：从相册选择 / 拍照
3. 选择照片后，显示加载动画（AI分类中）
4. 弹出分类确认弹窗，显示AI识别的分类
5. 用户确认或手动调整分类
6. 衣物添加到衣橱，显示成功提示

### 流程2: 查看智能搭配
1. 用户切换到"搭配"标签页
2. 应用自动生成一套搭配建议
3. 用户查看搭配效果
4. 如果不满意，点击刷新按钮生成新搭配
5. 如果喜欢，点击点赞按钮保存

### 流程3: 保存和查看收藏搭配
1. 用户在"搭配"页面点赞一套搭配
2. 触发轻触觉反馈，按钮变为已点赞状态
3. 搭配自动保存到收藏
4. 用户切换到"收藏"标签页
5. 查看所有保存的搭配

### 流程4: 自定义搭配
1. 用户在"搭配"页面查看推荐搭配
2. 点击搭配中的某个单品（如上衣）
3. 弹出该分类的所有衣物选择器
4. 选择新的上衣替换
5. 搭配实时更新显示

## 数据存储策略
- **本地存储 (AsyncStorage)**: 所有衣物数据和搭配数据存储在本地
- **照片存储**: 使用设备本地文件系统存储照片
- **无需后端**: 应用完全本地运行，保护用户隐私，减少内存占用

## AI分类策略
- 使用设备端轻量级图像识别
- 分类类别：大衣、外套、上衣、裤子、长裙、短裙、鞋子、配饰（帽子、围巾、手套等）
- 用户可手动调整分类结果

## 搭配算法逻辑
- **基础规则**:
  - 上衣 + 下装（裤子或裙子）
  - 可选：外套/大衣
  - 可选：配饰（鞋子、帽子、围巾、手套）
- **随机组合**: 从各分类中随机选择单品组合
- **避免重复**: 短时间内不推荐相同的搭配

## 性能优化
- 照片压缩：上传时自动压缩到合理尺寸
- 缩略图缓存：生成缩略图加快列表加载
- 懒加载：滚动时按需加载图片
- 本地存储优化：定期清理未使用的缓存
